<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="1400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- æ¸å˜å®šä¹‰ -->
    <linearGradient id="blueGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#1e3a8a;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#3b82f6;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="tealGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#0d9488;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#14b8a6;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="amberGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#d97706;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f59e0b;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="purpleGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#7c3aed;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#a78bfa;stop-opacity:1" />
    </linearGradient>
    
    <!-- ç®­å¤´æ ‡è®° -->
    <marker id="arrowBlue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#3b82f6" />
    </marker>
    
    <marker id="arrowTeal" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#14b8a6" />
    </marker>
    
    <marker id="arrowAmber" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#f59e0b" />
    </marker>
  </defs>
  
  <!-- èƒŒæ™¯ -->
  <rect width="1200" height="1400" fill="#f8fafc"/>
  
  <!-- æ ‡é¢˜ -->
  <text x="600" y="50" font-family="Arial, sans-serif" font-size="32" font-weight="bold" text-anchor="middle" fill="#1e293b">
    äººç”Ÿæ¨¡æ‹Ÿå™¨ - ç³»ç»Ÿæ¶æ„
  </text>
  <text x="600" y="80" font-family="Arial, sans-serif" font-size="18" text-anchor="middle" fill="#64748b">
    Ten-Year Life Simulator (2025-2035)
  </text>
  
  <!-- ç”¨æˆ·å±‚ -->
  <rect x="500" y="120" width="200" height="60" rx="30" fill="url(#purpleGradient)" stroke="#7c3aed" stroke-width="2"/>
  <text x="600" y="155" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">
    ğŸ‘¤ ç”¨æˆ· (User)
  </text>
  
  <!-- ç®­å¤´ï¼šç”¨æˆ· â†’ App -->
  <path d="M 600 180 L 600 220" stroke="#7c3aed" stroke-width="3" fill="none" marker-end="url(#arrowBlue)"/>
  <text x="620" y="205" font-family="Arial, sans-serif" font-size="12" fill="#64748b">è¾“å…¥/æ“ä½œ</text>
  
  <!-- App.tsx ä¸»åº”ç”¨å±‚ -->
  <rect x="450" y="220" width="300" height="80" rx="10" fill="url(#blueGradient)" stroke="#1e3a8a" stroke-width="3"/>
  <text x="600" y="250" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">
    App.tsx
  </text>
  <text x="600" y="270" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#e0f2fe">
    ä¸»åº”ç”¨ Â· çŠ¶æ€ç®¡ç† Â· è·¯ç”±æ§åˆ¶
  </text>
  <text x="600" y="288" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#bfdbfe">
    (React Hooks Â· ErrorBoundary)
  </text>
  
  <!-- ä» App åˆ†æ”¯å‡ºä¸‰ä¸ªæ–¹å‘ -->
  
  <!-- å·¦åˆ†æ”¯ï¼šç»„ä»¶å±‚ -->
  <path d="M 500 300 L 250 380" stroke="#3b82f6" stroke-width="3" fill="none" marker-end="url(#arrowBlue)"/>
  
  <!-- ä¸­åˆ†æ”¯ï¼šæœåŠ¡å±‚ -->
  <path d="M 600 300 L 600 380" stroke="#14b8a6" stroke-width="3" fill="none" marker-end="url(#arrowTeal)"/>
  
  <!-- å³åˆ†æ”¯ï¼šæ•°æ®å±‚ -->
  <path d="M 700 300 L 950 380" stroke="#f59e0b" stroke-width="3" fill="none" marker-end="url(#arrowAmber)"/>
  
  <!-- å·¦ä¾§ï¼šç»„ä»¶å±‚ -->
  <g id="components">
    <rect x="100" y="380" width="300" height="60" rx="8" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
    <text x="250" y="405" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#1e3a8a">
      ğŸ“¦ ç»„ä»¶å±‚ (Components)
    </text>
    <text x="250" y="425" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#3b82f6">
      UI å±•ç¤ºç»„ä»¶
    </text>
    
    <!-- ç»„ä»¶å­é¡¹ -->
    <rect x="120" y="460" width="120" height="45" rx="5" fill="white" stroke="#3b82f6" stroke-width="1.5"/>
    <text x="180" y="478" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#1e3a8a">Button.tsx</text>
    <text x="180" y="495" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#64748b">é€šç”¨æŒ‰é’®</text>
    
    <rect x="260" y="460" width="120" height="45" rx="5" fill="white" stroke="#3b82f6" stroke-width="1.5"/>
    <text x="320" y="478" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#1e3a8a">ScenarioCard</text>
    <text x="320" y="495" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#64748b">åœºæ™¯å¡ç‰‡</text>
  </g>
  
  <!-- ä¸­é—´ï¼šæœåŠ¡å±‚ -->
  <g id="services">
    <rect x="450" y="380" width="300" height="60" rx="8" fill="#ccfbf1" stroke="#14b8a6" stroke-width="2"/>
    <text x="600" y="405" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#0f766e">
      âš™ï¸ æœåŠ¡å±‚ (Services)
    </text>
    <text x="600" y="425" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#14b8a6">
      ä¸šåŠ¡é€»è¾‘ Â· AI é›†æˆ
    </text>
    
    <!-- geminiService.ts -->
    <rect x="475" y="460" width="250" height="80" rx="5" fill="white" stroke="#14b8a6" stroke-width="2"/>
    <text x="600" y="485" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#0f766e">
      geminiService.ts
    </text>
    <text x="600" y="503" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#64748b">
      Â· initializeGame()
    </text>
    <text x="600" y="518" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#64748b">
      Â· nextTurn()
    </text>
    <text x="600" y="533" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#64748b">
      Â· getFinalEvaluation()
    </text>
  </g>
  
  <!-- å³ä¾§ï¼šæ•°æ®å±‚ -->
  <g id="storage">
    <rect x="800" y="380" width="300" height="60" rx="8" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
    <text x="950" y="405" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#92400e">
      ğŸ’¾ æ•°æ®å±‚ (Storage)
    </text>
    <text x="950" y="425" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#f59e0b">
      çŠ¶æ€æŒä¹…åŒ–
    </text>
    
    <!-- æ•°æ®å­é¡¹ -->
    <rect x="820" y="460" width="120" height="45" rx="5" fill="white" stroke="#f59e0b" stroke-width="1.5"/>
    <text x="880" y="478" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#92400e">LocalStorage</text>
    <text x="880" y="495" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#64748b">æ¸¸æˆçŠ¶æ€</text>
    
    <rect x="960" y="460" width="120" height="45" rx="5" fill="white" stroke="#f59e0b" stroke-width="1.5"/>
    <text x="1020" y="478" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#92400e">AI Config</text>
    <text x="1020" y="495" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#64748b">é…ç½®ç¼“å­˜</text>
  </g>
  
  <!-- æœåŠ¡å±‚å‘ä¸‹åˆ†æ”¯åˆ° AI æä¾›å•† -->
  <path d="M 600 540 L 600 600" stroke="#14b8a6" stroke-width="3" fill="none" marker-end="url(#arrowTeal)"/>
  <text x="620" y="575" font-family="Arial, sans-serif" font-size="12" fill="#64748b">API è°ƒç”¨</text>
  
  <!-- AI æä¾›å•†å±‚ -->
  <rect x="350" y="600" width="500" height="60" rx="8" fill="#e0e7ff" stroke="#6366f1" stroke-width="2"/>
  <text x="600" y="625" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#4338ca">
    ğŸ¤– AI æä¾›å•† (AI Providers)
  </text>
  <text x="600" y="645" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#6366f1">
    å¤šæ¨¡å‹é€‚é…å™¨
  </text>
  
  <!-- AI æä¾›å•†åˆ†æ”¯ -->
  <path d="M 450 660 L 300 720" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrowBlue)"/>
  <path d="M 550 660 L 500 720" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrowBlue)"/>
  <path d="M 650 660 L 700 720" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrowBlue)"/>
  <path d="M 750 660 L 900 720" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrowBlue)"/>
  
  <!-- å…·ä½“ AI æä¾›å•† -->
  <g id="ai-providers">
    <!-- Gemini -->
    <rect x="220" y="720" width="160" height="50" rx="5" fill="white" stroke="#6366f1" stroke-width="2"/>
    <text x="300" y="742" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#4338ca">
      Google Gemini
    </text>
    <text x="300" y="758" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#64748b">
      gemini-2.5-flash
    </text>
    
    <!-- DeepSeek -->
    <rect x="420" y="720" width="160" height="50" rx="5" fill="white" stroke="#6366f1" stroke-width="2"/>
    <text x="500" y="742" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#4338ca">
      DeepSeek
    </text>
    <text x="500" y="758" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#64748b">
      deepseek-chat
    </text>
    
    <!-- Qwen -->
    <rect x="620" y="720" width="160" height="50" rx="5" fill="white" stroke="#6366f1" stroke-width="2"/>
    <text x="700" y="742" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#4338ca">
      Qwen (é˜¿é‡Œäº‘)
    </text>
    <text x="700" y="758" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#64748b">
      qwen-plus
    </text>
    
    <!-- Others -->
    <rect x="820" y="720" width="160" height="50" rx="5" fill="white" stroke="#6366f1" stroke-width="2"/>
    <text x="900" y="742" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#4338ca">
      Others
    </text>
    <text x="900" y="758" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#64748b">
      GLM Â· OpenAI Â· Kimi
    </text>
  </g>
  
  <!-- æ•°æ®æµå›è·¯ -->
  <path d="M 600 770 L 600 830" stroke="#14b8a6" stroke-width="3" fill="none" marker-end="url(#arrowTeal)"/>
  <text x="620" y="805" font-family="Arial, sans-serif" font-size="12" fill="#64748b">JSON å“åº”</text>
  
  <!-- æ•°æ®å¤„ç†å±‚ -->
  <rect x="450" y="830" width="300" height="60" rx="8" fill="#fce7f3" stroke="#ec4899" stroke-width="2"/>
  <text x="600" y="855" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#9f1239">
    ğŸ”„ æ•°æ®å¤„ç† (Processing)
  </text>
  <text x="600" y="875" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#ec4899">
    cleanJson() Â· é‡è¯•æœºåˆ¶ Â· é”™è¯¯å¤„ç†
  </text>
  
  <!-- è¿”å›åˆ° App -->
  <path d="M 600 890 L 600 950" stroke="#ec4899" stroke-width="3" fill="none" marker-end="url(#arrowAmber)"/>
  <text x="620" y="925" font-family="Arial, sans-serif" font-size="12" fill="#64748b">æ›´æ–°çŠ¶æ€</text>
  
  <!-- æ¸¸æˆçŠ¶æ€æœº -->
  <rect x="400" y="950" width="400" height="80" rx="10" fill="#f1f5f9" stroke="#475569" stroke-width="2"/>
  <text x="600" y="980" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#1e293b">
    ğŸ® æ¸¸æˆçŠ¶æ€æœº (Game State Machine)
  </text>
  <text x="600" y="1003" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#64748b">
    INTRO â†’ PLAYING â†’ LOADING_TURN â†’ GAME_OVER
  </text>
  <text x="600" y="1020" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#94a3b8">
    çŠ¶æ€è½¬æ¢ Â· åœºæ™¯æ¸²æŸ“ Â· å†å²è®°å½•
  </text>
  
  <!-- æœ€ç»ˆè¾“å‡ºåˆ°ç”¨æˆ· -->
  <path d="M 600 1030 L 600 1090" stroke="#7c3aed" stroke-width="3" fill="none" marker-end="url(#arrowBlue)"/>
  <text x="620" y="1065" font-family="Arial, sans-serif" font-size="12" fill="#64748b">UI æ¸²æŸ“</text>
  
  <!-- UI è¾“å‡ºå±‚ -->
  <rect x="450" y="1090" width="300" height="80" rx="10" fill="url(#purpleGradient)" stroke="#7c3aed" stroke-width="3"/>
  <text x="600" y="1120" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">
    ğŸ–¥ï¸ ç”¨æˆ·ç•Œé¢ (UI)
  </text>
  <text x="600" y="1143" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#e9d5ff">
    è§’è‰²åˆ›å»º Â· åœºæ™¯å±•ç¤º Â· æœ€ç»ˆæŠ¥å‘Š
  </text>
  <text x="600" y="1160" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#ddd6fe">
    (React Components Â· Tailwind CSS)
  </text>
  
  <!-- ä¾§è¾¹è¯´æ˜æ¡† -->
  <g id="legend">
    <rect x="50" y="1220" width="1100" height="140" rx="8" fill="white" stroke="#cbd5e1" stroke-width="2"/>
    <text x="600" y="1250" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#1e293b">
      ğŸ“Š æŠ€æœ¯æ ˆè¯´æ˜
    </text>
    
    <!-- æŠ€æœ¯æ ˆåˆ—è¡¨ -->
    <text x="100" y="1280" font-family="Arial, sans-serif" font-size="13" fill="#475569">
      <tspan font-weight="bold">å‰ç«¯æ¡†æ¶:</tspan> React 19.2.0 + TypeScript 5.8.2 + Vite 6.2.0
    </text>
    <text x="100" y="1305" font-family="Arial, sans-serif" font-size="13" fill="#475569">
      <tspan font-weight="bold">æ ·å¼æ–¹æ¡ˆ:</tspan> Tailwind CSS (CDN) + è‡ªå®šä¹‰å­¦æœ¯é£æ ¼ä¸»é¢˜
    </text>
    <text x="100" y="1330" font-family="Arial, sans-serif" font-size="13" fill="#475569">
      <tspan font-weight="bold">AI é›†æˆ:</tspan> @google/genai SDK + OpenAI Compatible API
    </text>
    
    <text x="700" y="1280" font-family="Arial, sans-serif" font-size="13" fill="#475569">
      <tspan font-weight="bold">çŠ¶æ€ç®¡ç†:</tspan> React Hooks (useState, useEffect)
    </text>
    <text x="700" y="1305" font-family="Arial, sans-serif" font-size="13" fill="#475569">
      <tspan font-weight="bold">æ•°æ®æŒä¹…åŒ–:</tspan> Browser LocalStorage
    </text>
    <text x="700" y="1330" font-family="Arial, sans-serif" font-size="13" fill="#475569">
      <tspan font-weight="bold">é”™è¯¯å¤„ç†:</tspan> ErrorBoundary + é‡è¯•æœºåˆ¶
    </text>
  </g>
  
  <!-- åº•éƒ¨æ ‡æ³¨ -->
  <text x="600" y="1385" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#94a3b8">
    åå¹´äººç”Ÿæ¨¡æ‹Ÿå™¨ (2025-2035) Â· ç³»ç»Ÿæ¶æ„å›¾ Â· v1.0
  </text>
</svg>
